{% extends 'accounts/base.html'%}

{% block title%}<title>Assignment</title>{% endblock %}

{% block body %}
<div class="container">
    <div class="row">
        <div class="col">
            <ul>
            {% for assignment in assignment %}
                <li><a href="{% url 'assignment:assignment' assignment.id %}">{{ assignment.title }}</a>
                     <form class="form" method="POST" action="{% url 'assignment:like' %}">
                        {% csrf_token %}
                        <input type="hidden" name="id" value="{{assignment.id}}">
                        <button class="{%if user in assignment.assignmentlikecounter.user.all%} w3-btn w3-green w3-padding-large w3-hover-red {% else %}w3-btn w3-white w3-padding-large w3-hover-red{%endif%}">{%if user in assignment.assignmentlikecounter.user.all%}Liked-({{assignment.assignmentlikecounter.number_of_like}}){%else%}Like-({{assignment.assignmentlikecounter.number_of_like}}){%endif%}</button>
                    </form>
                     {% for user in assignment.assignmentlikecounter.user.all %}
                     {{user.username}}
                     {% endfor %}
                    <p>{{assignment.discription}}
                        <br>
                        uploaded by: {{assignment.user.first_name}} {{assignment.user.last_name}}
                        username:{{assignment.user}}
                    </p>
                </li>
            {% endfor %}
            </ul>

            <a href="{% url 'assignment:assignment_add' %}">Add Assignment</a>
        </div>

        <div class="col">
            <a href="{% url 'assignment:uploadfile'%}">upload study-material</a>

        </div>
    </div>
    <div class="row">
            <div class="pagination">
                <span class="step-links">
                    {% if assignment.has_previous %}
                        <a href="?page=1">&laquo; first</a>
                        <a href="?page={{ assignment.previous_page_number }}">previous</a>
                    {% endif %}

                    <span class="current">
                        Page {{ assignment.number }} of {{ assignment.paginator.num_pages }}.
                    </span>

                    {% if assignment.has_next %}
                        <a href="?page={{ assignment.next_page_number }}">next</a>
                        <a href="?page={{ assignment.paginator.num_pages }}">last &raquo;</a>
                    {% endif %}
                </span>
            </div>
        </div>
</div>
{% endblock %}